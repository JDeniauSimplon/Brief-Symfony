{% extends 'base.html.twig' %}

{% block body %}

    <div class="ridesContainer">
        {% for ride in rides %}
            {% if ride.id == app.request.attributes.get('id') %}
                <div class="card">
                    <div class="trajetLogoContainer">
                        <span class="trajetLogo"></span>
                    </div>
                    <div class="carLogoContainer">
                        <span class="carLogo"></span>
                    </div>
                    <div class="halfCard1">
                        <div class="trajetContainer">
                            <span class="blockCity">
                                <h3>{{ ride.departure }}</h3>
                            </span>
                            <span class="blockCity">
                                <h3>{{ ride.destination }}</h3>
                            </span>
                        </div>
                        <div class="dateDepart">
                            <p>Départ le {{ ride.date|date('d/m/Y \\à H\\hi', 'Europe/Paris') }}</p>
                        </div>
                    </div>
                    <div class="halfCard2">
                        <section class="driverCard">
                            <span class="driverLogo"></span>
                            <section class="blockDriver">
                                <span class="driverName">{{ ride.driver.getFirstName() }} {{ ride.driver.getLastName() }}</span>
                                <p>Créé le {{ ride.created|date('d/m/Y H:i') }}</p>
                            </section>
                        </section>
                        <section class="bottomDriverCard">
                            <p>{{ ride.price }} €</p>
                            <p>{{ ride.seats }} places disponibles</p>
                        </section>
                    </div>
                </div>
                {% if app.user is defined and ride.driver == app.user %}
                    <div class="buttonsContainer">
                        <a href="{{ path('app_profil') }}#mesTrajets" class="btn">Retourner à mon profil</a>
						 <a href="{{ path('app_liste') }}" class="btn">Retourner à la liste des annonces</a>
                    </div>
                {% else %}
                    <div class="buttonsContainer">
                        <a href="{{ path('app_liste') }}" class="btn">Retourner à la liste des annonces</a>
                    </div>
                {% endif %}
            {% endif %}
        {% endfor %}
    </div>

{% endblock %}



